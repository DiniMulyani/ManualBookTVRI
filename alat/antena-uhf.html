<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOP Antena Pemancar UHF</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="../style.css">

    <script>
        (function() {
            const FONT_SIZE_KEY = 'manualBookFontSize';
            const DEFAULT_FONT_SIZE = 'medium';
            const savedSize = localStorage.getItem(FONT_SIZE_KEY) || DEFAULT_FONT_SIZE;
            
            if (savedSize !== DEFAULT_FONT_SIZE) {
                // Terapkan kelas ke tag <html>
                document.documentElement.classList.add(`font-size-${savedSize}`);
            }
        })();
    </script>
</head>
<body>

    <header>
        <h1>SOP Pemeliharaan Antena Pemancar UHF</h1>
        
        <div class="font-controls">
            <button id="font-decrease" class="font-button" onclick="changeFontSize('decrease')">A-</button>
            <button id="font-reset" class="font-button" onclick="changeFontSize('reset')">A</button>
            <button id="font-increase" class="font-button" onclick="changeFontSize('increase')">A+</button>
        </div>
    </header>

    <div class="container">
        
        <a href="../index.html" class="tombol tombol-kembali">&larr; Kembali ke Daftar Alat</a>
        
       <button id="tombolFavorit" class="tombol tombol-favorit" 
                onclick="toggleFavorite('audio-mixer-abc', 'Audio Mixer Tipe ABC', 'Prosedur standar untuk mixing audio siaran.')">
            Tambahkan ke Favorit ‚≠ê
        </button>

        <button class="tombol tombol-cetak" onclick="window.print()">
            üñ®Ô∏è Cetak SOP
        </button>

        <div class="sop-layout-container">

            <nav class="sticky-nav">
                <h4>Menu Cepat</h4>
                <a href="#k3">1. Peringatan K3</a>
                <a href="#prosedur">2. Prosedur Harian</a>
                <a href="#checklist">2A. Checklist Harian</a>
                <a href="#video">3. Video Tutorial</a>
                <a href="#wizard">4. Wizard Troubleshooting</a>
                <a href="#galeri">5. Galeri Foto</a>
                <a href="#dokumen">6. Dokumen PDF</a>
                <a href="#catatan">7. Catatan Pribadi</a>
            </nav>

            <div class="content-sop" id="content-sop">
                
                <h2 id="k3">1. Peringatan Keselamatan Kerja (K3) ‚ö†Ô∏è</h2>
                <div class="warning">
                    <strong>BAHAYA! BEKERJA DI KETINGGIAN & RADIASI TINGGI!</strong>
                    <ul>
                        <li><strong>JANGAN PERNAH</strong> naik menara atau menyentuh antena saat pemancar dalam keadaan ON.</li>
                        <li>Pastikan <strong>MATI TOTAL</strong>  dan sudah di-Grounding sebelum maintenance.</li>
                        <li>Gunakan helm, safety harness, dan Alat Pelindung Diri (APD) lengkap saat bekerja di menara.</li>
                    </ul>
                </div>

                <h2 id="prosedur">2. Prosedur Pengawasan Harian</h2>
                <ol>
                    <li>Catat nilai **Forward Power (Pfwd)** dan **Reflected Power (Prfl)** dari transmitter.</li>
                    <li>Hitung rasio **SWR (Standing Wave Ratio)**. Nilai harus di bawah 1.5.</li>
                    <li>Periksa visual kabel *feeder* (coaxial) di sekitar ruang transmisi, cari indikasi panas berlebih atau kebocoran.</li>
                    <li>Monitor kondisi fisik menara dari jarak jauh (karat, baut longgar, dll.).</li>
                </ol>

                <h2 id="checklist">2A. Checklist Harian Pengawasan</h2>
                <div class="checklist-container">
                    <p>Centang item di bawah setelah selesai melakukan pengawasan rutin harian.</p>
                    <div id="checklist-antena">
                        <label class="checklist-item">
                            <input type="checkbox" data-checklist-id="antena-item-1" onchange="saveChecklistStatus('antena-item-1', this.checked)">
                            <span class="checkmark"></span>
                            <span class="checklist-text">SWR di bawah batas aman (mis. < 1.5).</span>
                        </label>
                        <label class="checklist-item">
                            <input type="checkbox" data-checklist-id="antena-item-2" onchange="saveChecklistStatus('antena-item-2', this.checked)">
                            <span class="checkmark"></span>
                            <span class="checklist-text">Suhu ruang transmisi normal (Tidak ada panas dari feeder).</span>
                        </label>
                        <label class="checklist-item">
                            <input type="checkbox" data-checklist-id="antena-item-3" onchange="saveChecklistStatus('antena-item-3', this.checked)">
                            <span class="checkmark"></span>
                            <span class="checklist-text">Pencatatan log daya Forward dan Reflected selesai.</span>
                        </label>
                        <label class="checklist-item">
                            <input type="checkbox" data-checklist-id="antena-item-4" onchange="saveChecklistStatus('antena-item-4', this.checked)">
                            <span class="checkmark"></span>
                            <span class="checklist-text">Laporan cuaca hari ini (penting untuk menara).</span>
                        </label>
                    </div>
                    <button class="tombol tombol-reset" onclick="resetChecklist('antena')">Reset Checklist</button>
                </div>
                
                <h2 id="video">3. Video Tutorial Perhitungan SWR</h2>
                <p>Pelajari cara menghitung dan menginterpretasikan nilai SWR untuk mencegah kerusakan pada pemancar.</p>
                <div class="video-container">
                    <video controls>
                        <source src="../aset/video/swr-tutorial.mp4" type="video/mp4">
                        Browser Anda tidak mendukung tag video.
                    </video>
                </div>
                
                <h2 id="wizard">4. Wizard Troubleshooting: SWR Tinggi</h2>
                <div class="wizard-container">
                    <p>Gunakan panduan interaktif ini jika nilai SWR tiba-tiba melonjak di atas 1.5.</p>
                    <div id="wizard-antena-container">
                        <div class="wizard-step" data-step="1">
                            <h4>Langkah 1: Apakah SWR melebihi 2.0? (Kritis)</h4>
                            <button class="tombol wizard-tombol-ya" onclick="showWizardSolution('antena', 'solusi-shutdown')">Ya, > 2.0</button>
                            <button class="tombol wizard-tombol-tidak" onclick="nextWizardStep('antena', 2)">Tidak, 1.5 - 2.0</button>
                        </div>

                        <div class="wizard-step" data-step="2" style="display: none;">
                            <h4>Langkah 2: Apakah cuaca sedang badai atau hujan deras?</h4>
                            <button class="tombol wizard-tombol-ya" onclick="showWizardSolution('antena', 'solusi-cuaca')">Ya, cuaca buruk</button>
                            <button class="tombol wizard-tombol-tidak" onclick="nextWizardStep('antena', 3)">Tidak, cuaca cerah</button>
                        </div>
                        
                        <div class="wizard-step" data-step="3" style="display: none;">
                            <h4>Langkah 3: Apakah ada tanda-tanda kerusakan fisik di kabel feeder (hangus/panas)?</h4>
                            <button class="tombol wizard-tombol-ya" onclick="showWizardSolution('antena', 'solusi-feeder')">Ya</button>
                            <button class="tombol wizard-tombol-tidak" onclick="showWizardSolution('antena', 'solusi-maintenance')">Tidak</button>
                        </div>

                        <div class="wizard-solusi" data-solusi="solusi-shutdown" style="display: none;">
                            <h4 class="solusi-title">Solusi: SHUTDOWN SEGERA!</h4>
                            <p>SWR > 2.0 dapat menyebabkan kerusakan fatal pada output transmitter. <strong>transmitter sekarang juga.</strong>  Hubungi teknisi senior untuk pemeriksaan antena/feeder di lapangan.</p>
                            <button class="tombol tombol-reset" onclick="resetWizard('antena')">Mulai Wizard Kembali</button>
                        </div>
                        
                        <div class="wizard-solusi" data-solusi="solusi-cuaca" style="display: none;">
                            <h4 class="solusi-title">Solusi: Tunggu Cuaca Membaik</h4>
                            <p>Tingginya kelembaban dapat mempengaruhi konektor. <strong>Kurangi daya transmisi hingga 50%</strong> dan pantau terus SWR. Jika SWR terus naik, matikan pemancar.</p>
                            <button class="tombol tombol-reset" onclick="resetWizard('antena')">Mulai Wizard Kembali</button>
                        </div>

                        <div class="wizard-solusi" data-solusi="solusi-feeder" style="display: none;">
                            <h4 class="solusi-title">Solusi: Kabel Feeder Rusak</h4>
                            <p>Kerusakan pada feeder (kabel besar) adalah penyebab utama SWR tinggi. <strong>Matikan pemancar</strong> dan koordinasikan pemeliharaan/penggantian feeder yang rusak.</p>
                            <button class="tombol tombol-reset" onclick="resetWizard('antena')">Mulai Wizard Kembali</button>
                        </div>
                        
                        <div class="wizard-solusi" data-solusi="solusi-maintenance" style="display: none;">
                            <h4 class="solusi-title">Solusi: Kerusakan Elemen Antena</h4>
                            <p>Jika semua di bawah terpantau normal, kemungkinan ada kegagalan pada elemen antena di atas menara. <strong>Jadwalkan maintenance menara</strong> (harus didampingi tim K3 dan teknisi ahli). Jangan operasikan daya penuh.</p>
                            <button class="tombol tombol-reset" onclick="resetWizard('antena')">Mulai Wizard Kembali</button>
                        </div>
                    </div>
                </div>


                <h2 id="galeri">5. Galeri Foto & Diagram Antena</h2>
                <div class="galeri-container">
                    <img src="../aset/gambar/antena-uhf-tower.jpg" alt="Antena UHF di Menara Pemancar" onclick="bukaModal(this.src)">
                    <img src="../aset/gambar/antena-feeder.jpg" alt="Titik Sambungan Feeder Antena" onclick="bukaModal(this.src)">
                    <img src="../aset/gambar/antena-swr-meter.png" alt="Contoh Pembacaan SWR Meter" onclick="bukaModal(this.src)">
                </div>

                <h2 id="dokumen">6. Dokumen Pendukung (PDF)</h2>
                <p>Klik tombol di bawah untuk melihat diagram instalasi menara pemancar.</p>
                <a href="../aset/dokumen/diagram-menara-tvri.pdf" target="_blank" class="tombol tombol-pdf">
                    Buka Diagram Menara & Grounding (PDF)
                </a>

                <h2 id="catatan">7. Catatan Pribadi Anda</h2>
                <div class="notes-container">
                    <label for="personalNotesAntena">Tulis catatan, pengamatan, atau prosedur tambahan untuk pemeliharaan antena.</label>
                    <textarea id="personalNotesAntena" placeholder="Masukkan catatan Anda di sini..." onkeyup="saveNote('Antena', this.value)"></textarea>
                </div>

            </div> </div> </div> <div id="modalGambar" class="modal">
        <span class="close" onclick="tutupModal()">&times;</span>
        <img class="modal-content" id="imgModal">
    </div>

    <script src="../script.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Memuat status favorit saat halaman dimuat
            updateFavoriteButton('antena-uhf');
            
            // Memuat status checklist dan catatan
            loadChecklistStatus('antena'); 
            loadNote('Antena');

             // Memuat wizard di langkah pertama
            resetWizard('antena');
        });
    </script>
</body>
</html>