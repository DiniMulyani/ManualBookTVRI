<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOP MUX Harmonic ProStream</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="../style.css">
    
    <script>
        (function() {
            const FONT_SIZE_KEY = 'manualBookFontSize';
            const DEFAULT_FONT_SIZE = 'medium';
            const savedSize = localStorage.getItem(FONT_SIZE_KEY) || DEFAULT_FONT_SIZE;
            
            if (savedSize !== DEFAULT_FONT_SIZE) {
                document.documentElement.classList.add(`font-size-${savedSize}`);
            }
        })();
    </script>
</head>
<body>

    <header>
        <h1>SOP Multiplexer Harmonic (ProStream)</h1>
        
        <div class="font-controls">
            <button id="font-decrease" class="font-button" onclick="changeFontSize('decrease')">A-</button>
            <button id="font-reset" class="font-button" onclick="changeFontSize('reset')">A</button>
            <button id="font-increase" class="font-button" onclick="changeFontSize('increase')">A+</button>
        </div>
    </header>

    <div class="container">
        <a href="../index.html" class="tombol tombol-kembali">&larr; Kembali ke Daftar Alat</a>
        
        <button id="tombolFavorit" class="tombol tombol-favorit" 
                onclick="toggleFavorite('harmonic-mux', 'MUX Harmonic ProStream', 'Panduan konfigurasi multiplexer Harmonic.')">
            Tambahkan ke Favorit ‚≠ê
        </button>

        <button class="tombol tombol-cetak" onclick="window.print()">
            üñ®Ô∏è Cetak SOP
        </button>

        <div class="sop-layout-container">

            <nav class="sticky-nav">
                <h4>Menu Cepat</h4>
                <a href="#k3">1. Peringatan K3</a>
                <a href="#prosedur-koneksi">2. Prosedur Koneksi Awal</a>
                <a href="#prosedur-webgui">3. Prosedur Konfigurasi (WebGUI)</a>
                <a href="#checklist">4. Checklist Konfigurasi</a>
                <a href="#wizard">5. Troubleshooting</a>
                <a href="#galeri">6. Galeri Foto</a>
                <a href="#catatan">7. Catatan Pribadi</a>
            </nav>

            <div class="content-sop" id="content-sop">
                <h2 id="k3">1. Peringatan Keselamatan Kerja (K3)</h2>
                <div class="warning">
                    <strong>PERHATIAN! KONFIGURASI KRITIS & LISENSI</strong>
                    <ul>
                        <li>Konfigurasi Multiplexer sangat penting dan mempengaruhi siaran. Kesalahan konfigurasi (misal: PID conflict, bitrate melebihi batas) bisa menyebabkan siaran mati total.</li>
                        <li>Pastikan IP Management unik. Gunakan username/password yang kuat.</li>
                        <li>Fitur tertentu (misal: jumlah input/output, scrambling) mungkin memerlukan lisensi. Jangan melakukan reset pabrik tanpa backup.</li>
                    </ul>
                </div>

                <h2 id="prosedur-koneksi">2. Prosedur Koneksi Awal</h2>
                <ol>
                    <li>Hubungkan kabel input stream (ASI atau IP/Data) dari Encoder ke port input MUX yang sesuai.</li>
                    <li>Hubungkan kabel output (ASI atau IP/Data) dari port output MUX ke Pemancar atau perangkat selanjutnya.</li>
                    <li>Hubungkan kabel LAN (RJ45) dari port 'Management' ke Jaringan LAN/Laptop.</li>
                    <li>Hubungkan kabel power dan nyalakan MUX. Tunggu hingga proses booting selesai.</li>
                </ol>
                
                <h2 id="prosedur-webgui">3. Prosedur Konfigurasi (WebGUI)</h2>
                <p>IP Address default pabrikan atau yang sudah di-setting harus diketahui (Contoh: `192.168.1.10`).</p>
                <ol>
                    <li>Atur IP Address Laptop/PC Anda ke segmen yang sama.</li>
                    <li>Buka Browser dan ketik IP Address MUX (misal: `http://192.168.1.10`).</li>
                    <li>Masuk menggunakan username dan password.</li>
                    <li><strong>Konfigurasi Input Stream:</strong>
                        <ul>
                            <li>Cari menu `Configuration -> Input` atau `Stream Input`.</li>
                            <li>Tambahkan input stream baru (misal: ASI 1, IP 1).</li>
                            <li>Pastikan status input menunjukkan 'OK' atau 'Locked'.</li>
                        </ul>
                    </li>
                    <li><strong>Membuat Multiplex Pool/Output TS:</strong>
                        <ul>
                            <li>Cari menu `Configuration -> Multiplexing` atau `Output TS`.</li>
                            <li>Buat Transport Stream (TS) output baru. Atur TS ID dan Network ID.</li>
                        </ul>
                    </li>
                    <li><strong>Menambahkan Service (Program):</strong>
                        <ul>
                            <li>Pilih TS output yang baru dibuat. Masuk ke 'Service Configuration' atau 'Add Services'.</li>
                            <li>Pilih 'Input Stream' sumber (misal: ASI 1).</li>
                            <li>Pilih Service Name yang ingin dimasukkan ke MUX output (misal: 'TVRI Klik').</li>
                            <li>Atur Service ID dan PID (Video, Audio, PMT) baru jika diperlukan (Remapping).</li>
                            <li>Ulangi untuk Service lain (misal: 'TVRI MCPC' dari input ASI 2).</li>
                        </ul>
                    </li>
                    <li><strong>Konfigurasi PSI/SI Tables:</strong>
                        <ul>
                            <li>Masuk ke menu `Configuration -> PSI/SI`.</li>
                            <li>Atur parameter untuk PAT, PMT, SDT (Nama Service, Provider), NIT (Network Information). Pastikan interval pengiriman tabel sesuai standar.</li>
                        </ul>
                    </li>
                    <li><strong>Konfigurasi Output Fisik:</strong>
                        <ul>
                            <li>Masuk ke menu `Configuration -> Output -> ASI Output` (atau `IP Output`).</li>
                            <li>Pilih port fisik (misal: ASI Out 1).</li>
                            <li>Pilih 'Source' = TS output yang tadi dibuat.</li>
                            <li>Atur 'Output Bitrate' (jika mode CBR). Pastikan total bitrate service tidak melebihi output bitrate.</li>
                        </ul>
                    </li>
                    <li>Klik **'Apply'** atau **'Activate Configuration'**.</li>
                </ol>

                <h2 id="checklist">4. Checklist Konfigurasi (Interaktif)</h2>
                <div id="interactiveChecklist" class="checklist-container">
                    <label class="checklist-item">
                        <input type="checkbox" name="chk-1" onchange="saveChecklistStatus('harmonic-mux')">
                        <span class="checkmark"></span>
                        <span class="checklist-text">Kabel Input (ASI/IP) & Output terpasang?</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" name="chk-2" onchange="saveChecklistStatus('harmonic-mux')">
                        <span class="checkmark"></span>
                        <span class="checklist-text">Berhasil login ke WebGUI?</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" name="chk-3" onchange="saveChecklistStatus('harmonic-mux')">
                        <span class="checkmark"></span>
                        <span class="checklist-text">Status Input Stream 'OK' / 'Locked'?</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" name="chk-4" onchange="saveChecklistStatus('harmonic-mux')">
                        <span class="checkmark"></span>
                        <span class="checklist-text">Service (program) yang benar sudah ditambahkan ke TS Output?</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" name="chk-5" onchange="saveChecklistStatus('harmonic-mux')">
                        <span class="checkmark"></span>
                        <span class="checklist-text">PSI/SI Tables (PAT, PMT, SDT) sudah dikonfigurasi?</span>
                    </label>
                     <label class="checklist-item">
                        <input type="checkbox" name="chk-6" onchange="saveChecklistStatus('harmonic-mux')">
                        <span class="checkmark"></span>
                        <span class="checklist-text">Output fisik (ASI/IP) sudah diatur dan menunjuk ke TS Output yang benar?</span>
                    </label>
                    <button class="tombol tombol-reset" 
                            onclick="resetChecklist('harmonic-mux', 'interactiveChecklist')">
                        Reset Checklist
                    </button>
                </div>
                
                <h2 id="wizard">5. Troubleshooting</h2>
                <div id="troubleshootingWizard" class="wizard-container">
                    <div id="step-start" class="wizard-step" style="display: block;">
                        <h4>Apa masalah Anda?</h4>
                        <button class="tombol wizard-tombol-ya" onclick="goToStep('step-q-no-output')">Tidak ada sinyal sama sekali di output ASI/IP</button>
                        <button class="tombol wizard-tombol-ya" onclick="goToStep('step-q-missing-svc')">Output ada, tapi salah satu service (program) hilang</button>
                        <button class="tombol wizard-tombol-ya" onclick="goToStep('step-q-table-error')">Decoder menampilkan error 'PAT Error' atau 'PMT Error'</button>
                    </div>
                    <div id="step-solusi-no-output" class="wizard-step wizard-solusi" style="display: none;">
                        <h4 class="solusi-title">Solusi: Cek Routing & Output Bitrate</h4>
                        <p>Pastikan `Configuration -> Output -> ASI/IP Output` sudah benar menunjuk ('Source') ke TS Output yang Anda buat. Periksa juga apakah total bitrate service melebihi batas 'Output Bitrate' yang diatur.</p>
                        <button class="tombol tombol-reset" onclick="goToStep('step-start')">Mulai Lagi</button>
                    </div>
                     <div id="step-solusi-missing-svc" class="wizard-step wizard-solusi" style="display: none;">
                        <h4 class="solusi-title">Solusi: Cek Input & Service Mapping</h4>
                        <p>Pastikan Input Stream sumber service tersebut statusnya 'OK'. Lalu cek di `Configuration -> Multiplexing -> Service Configuration`, pastikan service tersebut sudah ditambahkan ke TS Output.</p>
                        <button class="tombol tombol-reset" onclick="goToStep('step-start')">Mulai Lagi</button>
                    </div>
                     <div id="step-solusi-table-error" class="wizard-step wizard-solusi" style="display: none;">
                        <h4 class="solusi-title">Solusi: Cek Konfigurasi PSI/SI</h4>
                        <p>Masuk ke `Configuration -> PSI/SI`. Pastikan tabel PAT dan PMT ter-generate dengan benar dan semua PID service sudah tercantum. Cek juga interval pengiriman tabel.</p>
                        <button class="tombol tombol-reset" onclick="goToStep('step-start')">Mulai Lagi</button>
                    </div>
                </div>

                <h2 id="galeri">6. Galeri Foto</h2>
                <div class="galeri-container">
                    <img src="../aset/gambar/harmonic-prostream-chassis.jpg" alt="Chassis Harmonic ProStream" onclick="bukaModal(this.src)">
                    <img src="../aset/gambar/harmonic-webgui.jpg" alt="Contoh Tampilan WebGUI Harmonic" onclick="bukaModal(this.src)">
                </div>

                <h2 id="catatan">7. Catatan Pribadi Anda</h2>
                <div class="notes-container">
                    <label for="personalNotes">Catatan ini HANYA tersimpan di browser Anda.</label>
                    <textarea id="personalNotes" 
                              placeholder="Contoh: MUX TVRI Riau. Input ASI 1 (TVRI Klik), ASI 2 (MCPC Nasional). Output ASI 1 ke Pemancar R&S. Output Bitrate 18 Mbps."
                              onkeyup="saveNotes('harmonic-mux')">
                    </textarea>
                </div>

            </div> </div> </div> <div id="modalGambar" class="modal">
        <span class="close" onclick="tutupModal()">&times;</span>
        <img class="modal-content" id="imgModal">
    </div>

    <script src="../script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            checkFavoriteStatus('harmonic-mux');
            loadChecklistStatus('harmonic-mux', 'interactiveChecklist');
            loadNotes('harmonic-mux');
        });
    </script> 
</body>
</html>